# 双指针

![](https://raw.gitmirror.com/Withnoidea/PicGoDemo/blog/img/202504062153474.png)

![](https://raw.gitmirror.com/Withnoidea/PicGoDemo/blog/img/202504062143531.png)

例题：
输入一行字符串，字符串由单词加空格组成，给定样例默认开头无空格且相邻单词之间只有一个空格，要求按行输出每个单词
输入样例
$$ abc\, def\,ghi $$
输出样例
$$abc$$

$$def$$

$$ghi$$

```c++
#include <bits/stdc++.h>
using namespace std;

int main()
{
    string s;
    getline(cin, s);
    int n = s.size();
    for(int i = 0; i < n; i ++)
    {
        int j = i;
        while(j < n && s[j] != ' ') j ++;
        
        for(int k = i; k < j; k ++)
            cout << s[k];
        cout << endl;
        i = j;
    }
    return 0;
}
```

## [799. 最长连续不重复子序列 - AcWing题库](https://www.acwing.com/problem/content/description/801/)

给定一个长度为 n 的整数序列，请找出最长的不包含重复的数的连续区间，输出它的长度。

**输入格式**

第一行包含整数 n。

第二行包含 n 个整数（均在 $0$~$10^5$ 范围内），表示整数序列。

**输出格式**

共一行，包含一个整数，表示最长的不包含重复的数的连续区间的长度。

**数据范围**

$$1≤n≤10^5$$

**输入样例：**

    5
    1 2 2 3 5

**输出样例：**

    3

### 暴力做法：

i向右移动，j从0到i，枚举每个[i, j]区间，check判断是否有重复的数，res记录答案

i: 0 1 2 … n - 1

j: 0 [0-i] [0-2] [0- n - 1]

1 + 2 + 3 + … + n = n * (n + 1) / 2;

时间复杂度 O(n ^ 2)

空间复杂度 O(n)

```c++
#include <bits/stdc++.h>
using namespace std;
const int N = 1e5 + 10;
int a[N], s[N];
int n, res;

bool check(int j, int i)
{
    set<int> st;
    for(int k = j; k <= i; k ++)
    {
        if(st.count(a[k]))
            return  false;
        st.insert(a[k]);
    }
    return true;
}

int main()
{
    cin >> n;
    for(int i = 0; i < n; i ++) cin >> a[i];
    for(int i = 0; i < n; i ++)
    {
        for(int j = 0; j <= i; j ++)
        {
            if(check(j, i))
                res = max(res, i - j + 1);
        }
    }
    cout << res << endl;
    return 0;
}
```

![image-20250406223138804](https://raw.gitmirror.com/Withnoidea/PicGoDemo/blog/img/202504062231861.png)

### 双指针：

[j, i]表示最长连续区间

i向右枚举右端点，j表示不包含重复数的情况下，最长区间的左端点（已经保证 j <= i）

极端情况下，时间复杂度 O(n)

全是重复的数字

1111111

i ： 0 - n - 1

j: 1 1 1 1 1 

```c++
#include <bits/stdc++.h>
using namespace std;
const int N = 1e5 + 10;
int a[N], s[N];
int n, res;

int main()
{
    cin >> n;
    for(int i = 0; i < n; i ++) cin >> a[i];
    for(int i = 0, j = 0; i < n; i ++)
    {
        s[a[i]] ++;
        while(s[a[i]] > 1)
        {
            s[a[j]] --;
            j ++;
        }
        res = max(res, i - j + 1);
    }
    cout << res << endl;
    return 0;
}
```



## [800. 数组元素的目标和 - AcWing题库](https://www.acwing.com/problem/content/802/)

给定两个升序排序的有序数组A和B，以及一个目标值x。

数组下标从0开始。

请你求出满足A[i] + B[j] = x的数对(i,j)。

数据保证有唯一解。

**输入格式**

第一行包含三个整数n,m,x，分别表示A的长度，B的长度以及目标值x。

第二行包含n个整数，表示数组A。

第三行包含m个整数，表示数组B。

**输出格式**

共一行，包含两个整数i和j。

数据范围

数组长度不超过10^5。

同一数组内元素各不相同。

1 ≤ 数组元素 ≤ 10^9

输入样例：

4 5 6

1 2 4 7

3 4 6 8 9

输出样例：

1 1

### 暴力做法：

```c++
#include <bits/stdc++.h>
using namespace std;
const int N = 1e5 + 10;
int a[N], b[N];
int n, m, x;

int main()
{
    cin >> n >> m >> x;
    for(int i = 0; i < n; i ++) cin >> a[i];
    for(int i = 0; i < m; i ++) cin >> b[i];
    
    for(int i = 0; i < n; i ++)
    {
        for(int j = 0; j < m; j ++)
        {
            if(a[i] + b[j] == x)
                cout << i << " " << j << endl;
        }
    }
    return 0;
}
```

### ![image-20250406224858205](https://raw.gitmirror.com/Withnoidea/PicGoDemo/blog/img/202504062248270.png)双指针：

```c++
#include <bits/stdc++.h>
using namespace std;
const int N = 1e5 + 10;
int a[N], b[N];
int n, m, x;

int main()
{
    cin >> n >> m >> x;
    for(int i = 0; i < n; i ++) cin >> a[i];
    for(int i = 0; i < m; i ++) cin >> b[i];
    
    for(int i = 0; i < n; i ++)
    {
        int j = 0;
        while(a[i] + b[j] < x) j ++;
        if(a[i] + b[j] == x) cout << i << " " << j << endl;
        else j --;
    }
    return 0;
}
```



![image-20250406224914659](https://raw.gitmirror.com/Withnoidea/PicGoDemo/blog/img/202504062249705.png)

```c++
#include <bits/stdc++.h>
using namespace std;
const int N = 1e5 + 10;
int a[N], b[N];
int n, m, x;

int main()
{
    cin >> n >> m >> x;
    for(int i = 0; i < n; i ++) cin >> a[i];
    for(int i = 0; i < m; i ++) cin >> b[i];
    
    for(int i = 0, j = m - 1; i < n; i ++)
    {
        while(a[i] + b[j] > x) j --;
        if(a[i] + b[j] == x)
        {
             cout << i << " " << j << endl;
             break;
        }
    }
    return 0;
}
```

![image-20250406225709775](https://raw.gitmirror.com/Withnoidea/PicGoDemo/blog/img/202504062257828.png)

